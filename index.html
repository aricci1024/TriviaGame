<!DOCTYPE html>
<html>
<head>
    <title>Simple Trivia Game</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>

<body>

    <button type="button" class="btn btn-primary startBtn">Start Game</button>
    <div id="show-number"></div>
    <div id="game">
        <form id="quizForm"></form>
    </div>
    <div id="game-over"></div>
    

    <!-- jQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    
    <!-- Script -->
    <script type="text/javascript">

//=======================================================================================
    
    //Question array with possible answers and correct answers
    var questions = [
        {
            text: "What is the capitol of Norway?",
            options: ["Helsinki", "Oslo", "Copenhagen"],
            answer: 1,
        },
        {
            text: "What is in my pocket?",
            options: ["A ring", "A fish", "My hand"],
            answer: 0,
        },
        {
            text: "What is in my pocket?",
            options: ["A ring", "A fish", "My hand"],
            answer: 0,
        },
    ];

    var incorrectAnswer = 0;
    var correctAnswer = 0;
    var number = 3;
    var intervalId;
    var gameOver = $("#game-over")

//=====================================================================================
    
    $(document).ready(function() {
        $(".startBtn").on("click", function() {
            $("button").remove(".startBtn");
            questionForm ();
            timer();
        });
    });

    function timer () {
        clearInterval(intervalId);
        intervalId = setInterval(decrement, 1000);
        $("#show-number").html("<h2> Time Remaining: " + number + "</h2>");
    }

    function decrement() {
        number--;
        $("#show-number").html("<h2> Time Remaining: " + number + "</h2>");

        if (number === 0) {
            clearInterval(intervalId);
        }
    }    

    function questionForm () {
        for (var i = 0; i < questions.length; i++) {
            $("<h3>" + questions[i].text + "</h3>").appendTo("#quizForm");
            for (var j = 0; j < questions[i].options.length; j++) {
                $('<input type="radio" name="choice' + '-' + i + '" value="' + questions[i].options[j] + '">' + questions[i].options[j] + "</input>").appendTo("#quizForm");
            }
        }
        $("<br>").appendTo("#quizForm");
        $("<button type='button' class='btn btn-primary SubmitBtn'>Submit</button>").appendTo("#quizForm");
    };
    
//==========================================================================================

    function submitAnswers () {
        // var guess = $("input[name=choice-0]:checked");
        // $.each(guess), function () {
        $.each($("input[name='choice-0']:checked"), function() {
            if(guess.val() === questions.answer) {
                correctAnswer++;
                console.log("Right total: " + correctAnswer);
            } else {
                incorrectAnswer++;
                console.log("Wrong total: " + incorrectAnswer);
            }
        });
    }

        // function display () {
        //     clearInterval(intervalId);
        //     $("#game").remove();

        // }
    
//======================================================================================

// Game Timer
    

    // function results () {
    //     game.html("<h3>Congraduations! You completed the quiz!</h3>")
    //     game.append('<h3>Correct Answers: ' + correctAnswers + '</h3>');
    //     game.append('<h3>Incorrect Answers: ' + incorrectAnswers + '</h3>');
    //     game.append('<h3>Unanswered: ' + (questions.length - (incorrectAnswers + correctAnswers)) + '</h3>');
    // }

//======================================================================================

// TODO:
    // record user input as correct or incorrect
    // Final screen to display
        //show correct, incorrect, and unanswered
    

    </script>
    
</html>