<!DOCTYPE html>
<html>
<head>
    <title>Simple Trivia Game</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>

<body>
        <div class="container">
        <button class="btn btn-primary" id="startBtn">Start</button>
        <div id="show-number"></div>
        <div id="currentQuestion"></div>
        <div id="question"></div>
        <div id="options"></div>
        <div id="message"></div>
        <div id="answerReveal"></div>
        <div id="game-over"></div>
        <div id="correctAnswers"></div>
        <div id="incorrectAnswers"></div>
        <div id="unanswered"></div>
        <div id="startOverBtn"></div>
    </div>
    

    <!-- jQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    
    <!-- Script -->
    <script type="text/javascript">


//======================= Questions and global variables ==================================


var questions = [{
	text: "What type of rocks from from the crystalization and consolidation of magma?",
	options: ["Sedimentary", "Igneous", "Metamoprphic", "Basalt"],
	answer: 1
    },
    {
	text: "Which of these is not a fault boundry?",
	options: ["Transform", "Convergent", "Ridge", "Divergent"],
	answer: 2
    },
    {
	text: "What law states states that in undeformed stratigraphic sequences, the oldest strata will be at the bottom of the sequence?",
	options: ["Cross-cutting relationships", "Uniformitarianism", "Original Horizontality", "Superposition"],
	answer: 3
    },
    {
	text: "How were the Hawaiian Islands created?",
	options: ["Hot Spot", "Pillow Basalt", "Supervolcano", "Coral reef"],
	answer: 0
    },
    {
	text: "What was the last major supercontinent to form?",
	options: ["Gondwana", "Pangaea", "Pannotia", "Rodinia"],
	answer: 1
}];

var currentQuestion; 
var correctAnswer; 
var incorrectAnswer; 
var unanswered; 
var intervalId; 
var answered; 
var userSelect;


//========================== on.click events ==========================================


$("#startBtn").on("click", function(){
	$("#startBtn").hide();
	newGame();
});

$("#startOverBtn").on("click", function(){
	$("#startOverBtn").hide();
	newGame();
});


//========================= starts a new game =============================


function newGame(){
    //resets the user responses and the divs
	$("#game-over").empty();
	$("#correctAnswers").empty();
	$("#incorrectAnswers").empty();
	$("#unanswered").empty();
	currentQuestion = 0;
	correctAnswer = 0;
	incorrectAnswer = 0;
    unanswered = 0;
    // call the new question function to display a new question and start the game
	newQuestion();
}

//=====================the countdown timer for each question page ====================================


function timer(){
    count = 10;
	$('#show-number').html('<h3>Time Remaining: ' + count + '</h3>');
	//decrement timer
	intervalId = setInterval(decrement, 1000);
}

function decrement(){
	count--;
	$('#show-number').html('<h3>Time Remaining: ' + count + '</h3>');
	if(count === 0){
		clearInterval(intervalId);
		answered = false;
		transitionPage();
	}
}
    

//======================== displays the question ==================================================


function newQuestion(){
    $("#message").empty();
	$("#answerReveal").empty();
	answered = true;
	
	//displays the new question
    $("#question").html("<h2>" + questions[currentQuestion].text + "</h2>");
    
    //displays the answer choices
    for(var i = 0; i < questions[i].options.length; i++){
        //creates a new div
        var choices = $("<div>");
        //adds the option to the div
        choices.text(questions[currentQuestion].options[i]);
        //creates a an attribute to caputre the option
		choices.attr({"data-index": i });
        choices.addClass("thisChoice");
        //append and display answer options
		$("#options").append(choices);
	}
    timer();
    
	//once an answer is clicked, stop the timer and move to the transition page
	$(".thisChoice").on("click",function(){
		userSelect = $(this).data("index");
		clearInterval(intervalId);
		transitionPage();
	});
}


//======================================================================================

// Game Timer
    

    // function results () {
    //     game.html("<h3>Congraduations! You completed the quiz!</h3>")
    //     game.append('<h3>Correct Answers: ' + correctAnswers + '</h3>');
    //     game.append('<h3>Incorrect Answers: ' + incorrectAnswers + '</h3>');
    //     game.append('<h3>Unanswered: ' + (questions.length - (incorrectAnswers + correctAnswers)) + '</h3>');
    // }

//======================================================================================

// TODO:
    // record user input as correct or incorrect
    // Final screen to display
        //show correct, incorrect, and unanswered
    

    </script>
    
</html>